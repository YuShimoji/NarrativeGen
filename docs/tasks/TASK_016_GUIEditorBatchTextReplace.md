# Task: GUIエディタのバッチテキスト置換機能実装

Status: OPEN
Tier: 2
Branch: main
Owner: Worker
Created: 2026-01-05T01:15:00Z
Report: （未作成）

## Objective

GUIエディタにノードテキスト一括置換機能を追加する。選択肢一括編集は実装済みだが、ノードテキストの一括置換と正規表現サポートが未実装のため、これらを実装する。

## Context

- 選択肢一括編集は実装済み（`GuiEditorManager`のバッチ編集機能）
- ノードテキスト一括置換と正規表現サポートが未実装
- 大規模モデルでの一括置換により、編集効率が大幅に向上する
- `docs/NEXT_PHASE_PROPOSAL.md`の「Phase 3: ストーリー作成効率化（拡張）」に記載されている

## Focus Area

- `apps/web-tester/src/ui/gui-editor.js`: バッチテキスト置換機能の追加
- `apps/web-tester/src/ui/batch-editor.js`: ノードテキスト一括置換機能の追加
- 正規表現サポートの実装
- バッチ編集モーダルのUI拡張

## Forbidden Area

- 既存の選択肢一括編集機能の破壊的変更
- 既存のバッチ編集モーダルの破壊的変更（拡張のみ）

## Constraints

- 既存のバッチ編集機能と統合する
- 正規表現はJavaScriptの`RegExp`を使用
- 置換前のプレビュー機能を実装する
- 大規模モデル（500ノード以上）でもパフォーマンスを維持する

## DoD

- [ ] ノードテキスト一括置換機能の実装（検索文字列→置換文字列）
- [ ] 正規表現サポートの実装（チェックボックスで有効/無効を切り替え）
- [ ] 置換前のプレビュー機能の実装（置換対象ノードの一覧表示）
- [ ] バッチ編集モーダルのUI拡張（ノードテキスト置換タブの追加）
- [ ] 既存の選択肢一括編集機能との統合確認
- [ ] サンプルモデルで動作確認
- [ ] docs/inbox/ にレポート（REPORT_TASK_016_*.md）が作成されている
- [ ] 本チケットの Report 欄にレポートパスが追記されている

## Notes

- 既存のバッチ編集モーダル（`batch-editor.js`）を拡張する
- 正規表現のエスケープ処理に注意する
- 置換前のプレビューで、置換対象ノードのIDとテキストを表示する
