# Task: マルチエンディング可視化機能拡張実装

Status: OPEN
Tier: 2
Branch: main
Owner: Worker
Created: 2026-01-15T02:06:00Z

## Objective

マルチエンディング可視化機能を拡張実装する。全エンディングパスの自動抽出、ツリー構造での表示、各エンディングへの到達条件表示、インタラクティブなパス追跡機能を追加し、ストーリー構造の理解を支援する。

## Context

- TASK_017で基本的なマルチエンディング可視化機能が実装済み
- `docs/NEXT_PHASE_PROPOSAL.md`に拡張機能の仕様が記載されている
- `docs/NEXT_TASKS_SUMMARY.md`で高優先度項目として整理済み
- ユーザーから「より詳細なエンディング分析機能」の要望あり

## 未実装項目

### 1. インタラクティブなパス追跡
- エンディングパスのクリックでのハイライト
- パス上のノード・選択肢の詳細表示
- パスのアニメーション表示

### 2. エンディング条件の詳細分析
- 到達条件の複雑度評価
- 条件の依存関係グラフ表示
- 未到達可能なエンディングの検出

### 3. 統計情報の表示
- 各エンディングへの到達率（理論値）
- 条件の使用頻度分析
- ストーリーの分岐度・複雑度指標

### 4. エクスポート機能
- エンディング構造のテキストエクスポート
- 条件リストのCSVエクスポート
- 可視化グラフの画像エクスポート

## Focus Area

- リアルタイムプレビューパネルの拡張
- グラフ可視化ライブラリの活用
- エンジンAPIとの連携強化

## Forbidden Area

- エンジンコアの仕様変更
- 既存データ形式の破壊的変更
- 外部APIへの依存追加

## 完了条件（DoD）

- [x] インタラクティブなパス追跡機能実装
- [x] エンディング条件の詳細分析機能実装
- [x] 統計情報の表示機能実装
- [x] エクスポート機能実装
- [x] 既存可視化機能との統合
- [x] 複雑なストーリーでの動作確認
- [x] docs/inbox/にレポート作成

## 依存関係

- TASK_017（マルチエンディング可視化機能）: 完了済み

## 見積もり

- 実装時間: 3-4時間
- Worker数: 1人
- 並列化: 可能（機能単位で分割）
