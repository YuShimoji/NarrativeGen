# Task: Phase 2グラフビュー高度編集機能実装

Status: OPEN
Tier: 2
Branch: main
Owner: Worker
Created: 2026-01-15T02:06:00Z

## Objective

Phase 2グラフビューに高度編集機能を実装する。ノード追加・削除、エッジ編集、ミニマップ、複数選択・一括移動、グリッドスナップ、条件・効果のインジケータ表示を追加し、ビジュアルエディタとしての機能を強化する。

## Context

- TASK_013で読み取り専用の最小実装が完了
- TASK_015で基本的な編集機能（ノード追加・削除、エッジ編集、インライン編集）が実装済み
- `docs/NEXT_PHASE_PROPOSAL.md`に高度機能の仕様が記載されている
- `docs/NEXT_TASKS_SUMMARY.md`で高優先度項目として整理済み

## 未実装項目

### 1. ミニマップ実装
- グラフ全体の縮小版を表示
- クリックで特定領域にジャンプ
- 現在表示範囲のハイライト

### 2. 複数選択・一括移動
- Ctrl+クリックでの複数選択
- ドラッグでの範囲選択
- 選択ノードの一括移動・削除

### 3. グリッドスナップ
- ノード位置のグリッド合わせ
- スナップ間隔の設定機能
- スナップのON/OFF切り替え

### 4. 条件・効果のインジケータ表示
- ノードの条件（flags、timeWindow等）を視覚的に表示
- エッジの効果（next、onEnter等）を矢印の色/形で表現
- インジケータのクリックで詳細情報を表示

## Focus Area

- Phase 2グラフビューのUI/UX拡張
- Dagre.jsレイアウトとの連携強化
- 既存GUIエディタとの状態同期

## Forbidden Area

- エンジンコアの仕様変更
- 既存データ形式の破壊的変更
- パフォーマンスに大幅な影響を与える実装

## 完了条件（DoD）

- [x] ミニマップ機能実装
- [x] 複数選択・一括移動機能実装
- [x] グリッドスナップ機能実装
- [x] 条件・効果のインジケータ表示実装
- [x] 既存機能との統合テスト
- [x] パフォーマンス確認（大規模グラフでの動作）
- [x] docs/inbox/にレポート作成

## 依存関係

- TASK_013（Phase 2読み取り専用グラフビュー）: 完了済み
- TASK_015（Phase 2グラフビュー編集機能）: 完了済み

## 見積もり

- 実装時間: 4-6時間
- Worker数: 1人
- 並列化: 可能（機能単位で分割）
