# Task: GUIエディタ高度バッチ操作機能実装

Status: COMPLETED
Tier: 2
Branch: main
Owner: Worker
Created: 2026-01-15T02:06:00Z

## Objective

GUIエディタに高度バッチ操作機能を実装する。ノードテキスト一括置換、正規表現サポート、置換前プレビュー、操作履歴管理を追加し、ストーリー編集の効率を大幅に向上させる。

## Context

- TASK_016で基本的なバッチテキスト置換機能が実装済み
- `docs/NEXT_PHASE_PROPOSAL.md`に拡張機能の仕様が記載されている
- `docs/NEXT_TASKS_SUMMARY.md`で高優先度項目として整理済み
- ユーザーから「より強力なバッチ操作機能」の要望あり

## 未実装項目

### 1. 正規表現サポート
- 置換文字列での正規表現使用
- キャプチャグループの利用
- 大文字・小文字の区別オプション

### 2. 置換前プレビュー機能
- 置換対象のハイライト表示
- 置換結果のリアルタイムプレビュー
- 置換前後の差分表示

### 3. 高度フィルタリング
- ノードタイプによるフィルタ（passage/choice/end等）
- 条件付きフィルタ（特定フラグを持つノード等）
- 複数条件の組み合わせ（AND/OR）

### 4. 操作履歴管理
- バッチ操作の履歴保存
- 操作のUndo/Redo機能
- 操作のエクスポート・インポート

## Focus Area

- GUIエディタのバッチ操作パネル拡張
- 正規表現エンジンの統合
- プレビュー機能のUI/UX設計

## Forbidden Area

- エンジンコアの仕様変更
- 既存データ形式の破壊的変更
- データベース機能の追加

## 完了条件（DoD）

- [x] 正規表現サポート実装
- [x] 置換前プレビュー機能実装
- [x] 高度フィルタリング機能実装
- [x] 操作履歴管理機能実装
- [x] 既存バッチ操作機能との統合
- [x] 大規模データでのパフォーマンス確認
- [x] docs/inbox/にレポート作成

## 依存関係

- TASK_016（GUIエディタのバッチテキスト置換機能）: 完了済み

## 見積もり

- 実装時間: 3-4時間
- Worker数: 1人
- 並列化: 可能（機能単位で分割）
