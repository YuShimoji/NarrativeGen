# ä¸­æœŸã‚¿ã‚¹ã‚¯è©³ç´° (1-2ãƒ¶æœˆ)

**ä½œæˆæ—¥**: 2026-02-07  
**æœŸé–“**: 2026-02-21 ã€œ 2026-04-07

---

## ğŸ“‹ ã‚¿ã‚¹ã‚¯ä¸€è¦§

| ã‚¿ã‚¹ã‚¯ID | ã‚¿ã‚¤ãƒˆãƒ« | ã‚«ãƒ†ã‚´ãƒª | å„ªå…ˆåº¦ | å·¥æ•° |
|----------|----------|----------|--------|------|
| TASK_033 | Ollama çµ±åˆ | AI æ‹¡å¼µ | é«˜ | 5-7æ—¥ |
| TASK_034 | AI ãƒãƒƒãƒå‡¦ç† | AI æ‹¡å¼µ | ä¸­ | 3-5æ—¥ |
| TASK_035 | main.js ãƒªãƒ•ã‚¡ã‚¯ã‚¿ãƒªãƒ³ã‚° | å“è³ªå‘ä¸Š | ä¸­ | 3-5æ—¥ |
| TASK_036 | ãƒãƒ£ãƒ³ã‚¯ã‚µã‚¤ã‚ºæœ€é©åŒ– | å“è³ªå‘ä¸Š | ä½ | 2-3æ—¥ |
| TASK_037 | è¿½åŠ ã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆå½¢å¼ | æ©Ÿèƒ½æ‹¡å¼µ | ä¸­ | 5-7æ—¥ |

---

## Phase 3: AI æ©Ÿèƒ½æ‹¡å¼µ

### TASK_033: Ollama çµ±åˆ (ãƒ­ãƒ¼ã‚«ãƒ« LLM)

**Status**: OPEN  
**Tier**: 2  
**Branch**: feature/ollama-integration  
**Owner**: Worker  
**Created**: 2026-02-07

#### ç›®çš„

- ã‚¤ãƒ³ã‚¿ãƒ¼ãƒãƒƒãƒˆæ¥ç¶šãªã—ã§ã® AI æ©Ÿèƒ½åˆ©ç”¨
- API ã‚³ã‚¹ãƒˆå‰Šæ¸›
- ãƒ—ãƒ©ã‚¤ãƒã‚·ãƒ¼é…æ…® (ãƒ­ãƒ¼ã‚«ãƒ«å‡¦ç†)

#### æŠ€è¡“èª¿æŸ»

```javascript
// Ollama API æ¦‚è¦
// ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆ: http://localhost:11434/api/generate
// 
// ãƒªã‚¯ã‚¨ã‚¹ãƒˆä¾‹:
{
  "model": "llama2",
  "prompt": "Rewrite this text: 'Hello World'",
  "stream": false
}

// ãƒ¬ã‚¹ãƒãƒ³ã‚¹ä¾‹:
{
  "response": "Greetings, Earth!",
  "done": true
}
```

#### å®Ÿè£…å†…å®¹

##### 1. Ollama ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆ

```
ãƒ•ã‚¡ã‚¤ãƒ«: apps/web-tester/src/features/ai/ollama-client.js

æ©Ÿèƒ½:
- æ¥ç¶šãƒ†ã‚¹ãƒˆ (ping)
- ãƒ¢ãƒ‡ãƒ«ä¸€è¦§å–å¾—
- ãƒ†ã‚­ã‚¹ãƒˆç”Ÿæˆ
- ã‚¹ãƒˆãƒªãƒ¼ãƒŸãƒ³ã‚°å¯¾å¿œ
```

##### 2. ãƒ—ãƒ­ãƒã‚¤ãƒ€ãƒ¼è¨­å®š UI

```
ãƒ•ã‚¡ã‚¤ãƒ«: apps/web-tester/src/ui/ai-settings.js

è¿½åŠ é …ç›®:
- Ollama ã‚µãƒ¼ãƒãƒ¼ URL (ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆ: localhost:11434)
- ãƒ¢ãƒ‡ãƒ«é¸æŠãƒ‰ãƒ­ãƒƒãƒ—ãƒ€ã‚¦ãƒ³
- æ¥ç¶šãƒ†ã‚¹ãƒˆãƒœã‚¿ãƒ³
```

##### 3. å…±é€šã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹

```javascript
// AI ãƒ—ãƒ­ãƒã‚¤ãƒ€ãƒ¼å…±é€šã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹
interface AIProvider {
  name: string;
  isAvailable(): Promise<boolean>;
  generateText(prompt: string, options: object): Promise<string>;
  paraphrase(text: string, style: string): Promise<string>;
}
```

#### å¯¾è±¡ãƒ•ã‚¡ã‚¤ãƒ«

- `apps/web-tester/src/features/ai/` (æ–°è¦ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªæ§‹é€ )
  - `providers/mock.js` (æ—¢å­˜ç§»è¡Œ)
  - `providers/openai.js` (æ—¢å­˜ç§»è¡Œ)
  - `providers/ollama.js` (æ–°è¦)
  - `AIManager.js` (çµ±åˆç®¡ç†)
- `apps/web-tester/src/ui/ai-panel.js` (æ›´æ–°)

#### DoD

- [ ] Ollama API ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆå®Ÿè£…
- [ ] ãƒ—ãƒ­ãƒã‚¤ãƒ€ãƒ¼åˆ‡ã‚Šæ›¿ãˆ UI
- [ ] ãƒ¢ãƒ‡ãƒ«é¸æŠæ©Ÿèƒ½
- [ ] æ¥ç¶šãƒ†ã‚¹ãƒˆæ©Ÿèƒ½
- [ ] è¨€ã„æ›ãˆæ©Ÿèƒ½å‹•ä½œ
- [ ] ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆæ›´æ–°

---

### TASK_034: AI ãƒãƒƒãƒå‡¦ç†

**Status**: OPEN  
**Tier**: 2  
**Branch**: feature/ai-batch  
**Owner**: Worker  
**Created**: 2026-02-07  
**Depends**: TASK_033

#### ç›®çš„

è¤‡æ•°ãƒãƒ¼ãƒ‰ã®ä¸€æ‹¬è¨€ã„æ›ãˆãƒ»ç”Ÿæˆå‡¦ç†ã€‚

#### å®Ÿè£…å†…å®¹

##### ãƒãƒƒãƒå‡¦ç† UI

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ãƒãƒƒãƒè¨€ã„æ›ãˆ                          â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ å¯¾è±¡: [â—¯ å…¨ãƒãƒ¼ãƒ‰] [â—¯ é¸æŠãƒãƒ¼ãƒ‰]       â”‚
â”‚ ã‚¹ã‚¿ã‚¤ãƒ«: [æ¨™æº– â–¼]                      â”‚
â”‚                                         â”‚
â”‚ ãƒ—ãƒ­ã‚°ãƒ¬ã‚¹: â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‘â–‘ 80% (40/50)      â”‚
â”‚                                         â”‚
â”‚ [é–‹å§‹] [ã‚­ãƒ£ãƒ³ã‚»ãƒ«]                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

##### ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°

```javascript
// ãƒªãƒˆãƒ©ã‚¤ãƒ­ã‚¸ãƒƒã‚¯
{
  maxRetries: 3,
  retryDelay: 1000, // ms
  exponentialBackoff: true
}

// éƒ¨åˆ†æˆåŠŸã®å‡¦ç†
// æˆåŠŸåˆ†ã¯é©ç”¨ã€å¤±æ•—åˆ†ã¯ã‚¹ã‚­ãƒƒãƒ—ã—ã¦ãƒ­ã‚°å‡ºåŠ›
```

#### DoD

- [ ] å…¨ãƒãƒ¼ãƒ‰ä¸€æ‹¬è¨€ã„æ›ãˆ
- [ ] é¸æŠãƒãƒ¼ãƒ‰ä¸€æ‹¬è¨€ã„æ›ãˆ
- [ ] ãƒ—ãƒ­ã‚°ãƒ¬ã‚¹è¡¨ç¤º
- [ ] ã‚­ãƒ£ãƒ³ã‚»ãƒ«æ©Ÿèƒ½
- [ ] ãƒªãƒˆãƒ©ã‚¤æ©Ÿèƒ½
- [ ] ã‚¨ãƒ©ãƒ¼ãƒ¬ãƒãƒ¼ãƒˆè¡¨ç¤º

---

## ã‚³ãƒ¼ãƒ‰å“è³ªå‘ä¸Š

### TASK_035: main.js ãƒªãƒ•ã‚¡ã‚¯ã‚¿ãƒªãƒ³ã‚°

**Status**: OPEN  
**Tier**: 3  
**Branch**: refactor/main-js-split  
**Owner**: Worker  
**Created**: 2026-02-07  
**Ref**: TASK_027

#### ç›®çš„

ç´„ 2200 è¡Œã® main.js ã‚’è²¬å‹™ã”ã¨ã«åˆ†å‰²ã—ã€ä¿å®ˆæ€§ã‚’å‘ä¸Šã€‚

#### åˆ†å‰²è¨ˆç”»

```
ç¾åœ¨ã®æ§‹é€ :
main.js (~2200è¡Œ)

åˆ†å‰²å¾Œ:
src/
â”œâ”€â”€ bootstrap.js          # åˆæœŸåŒ–ãƒ»ç’°å¢ƒæ¤œå‡º (~200è¡Œ)
â”‚   - DOMContentLoaded ãƒãƒ³ãƒ‰ãƒ©
â”‚   - ç’°å¢ƒå¤‰æ•°èª­ã¿è¾¼ã¿
â”‚   - ä¾å­˜é–¢ä¿‚åˆæœŸåŒ–
â”‚
â”œâ”€â”€ ui-bindings.js        # DOM è¦ç´ å–å¾—ãƒ»ã‚¤ãƒ™ãƒ³ãƒˆãƒã‚¤ãƒ³ãƒ‰ (~400è¡Œ)
â”‚   - querySelectorAll
â”‚   - addEventListener
â”‚   - UI ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆæ¥ç¶š
â”‚
â”œâ”€â”€ session-controller.js # ã‚»ãƒƒã‚·ãƒ§ãƒ³ç®¡ç† (~300è¡Œ)
â”‚   - startSession
â”‚   - applyChoice
â”‚   - çŠ¶æ…‹æ›´æ–°
â”‚
â”œâ”€â”€ utils/
â”‚   â””â”€â”€ dom-helpers.js    # DOM ãƒ¦ãƒ¼ãƒ†ã‚£ãƒªãƒ†ã‚£ (~100è¡Œ)
â”‚
â””â”€â”€ app.js               # ã‚¨ãƒ³ãƒˆãƒªãƒ¼ãƒã‚¤ãƒ³ãƒˆ (~50è¡Œ)
    - å„ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã®ã‚¤ãƒ³ãƒãƒ¼ãƒˆ
    - ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³èµ·å‹•
```

#### ç§»è¡Œæˆ¦ç•¥

1. æ©Ÿèƒ½å˜ä½ã§ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«æŠ½å‡º
2. æ—¢å­˜ãƒ†ã‚¹ãƒˆãŒé€šã‚‹ã“ã¨ã‚’ç¢ºèª
3. æ®µéšçš„ã«ãƒªãƒ•ã‚¡ã‚¯ã‚¿ãƒªãƒ³ã‚°
4. å›å¸°ãƒ†ã‚¹ãƒˆå®Ÿæ–½

#### DoD

- [ ] ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«åˆ†å‰²å®Œäº†
- [ ] æ—¢å­˜æ©Ÿèƒ½ã®å‹•ä½œç¢ºèª
- [ ] ãƒ“ãƒ«ãƒ‰æˆåŠŸ
- [ ] ãƒ†ã‚¹ãƒˆå…¨ãƒ‘ã‚¹

---

### TASK_036: ãƒãƒ£ãƒ³ã‚¯ã‚µã‚¤ã‚ºæœ€é©åŒ–

**Status**: OPEN  
**Tier**: 3  
**Branch**: optimize/chunk-size  
**Owner**: Worker  
**Created**: 2026-02-07

#### ç›®çš„

ãƒ“ãƒ«ãƒ‰ã‚µã‚¤ã‚ºå‰Šæ¸›ã¨åˆæœŸãƒ­ãƒ¼ãƒ‰é«˜é€ŸåŒ–ã€‚

#### ç¾çŠ¶åˆ†æ

```
è­¦å‘Š:
(!) Some chunks are larger than 500 kB after minification.
- index-*.js: 641 kB
- cytoscape.esm.js: 442 kB
```

#### å¯¾ç­–

##### 1. manualChunks è¨­å®š

```javascript
// vite.config.js
build: {
  rollupOptions: {
    output: {
      manualChunks: {
        vendor: ['cytoscape', 'd3', 'mermaid'],
        ai: ['./src/features/ai/index.js']
      }
    }
  }
}
```

##### 2. å‹•çš„ import

```javascript
// Cytoscape é…å»¶èª­ã¿è¾¼ã¿
const loadCytoscape = async () => {
  const { default: cytoscape } = await import('cytoscape');
  return cytoscape;
};
```

##### 3. Tree Shaking ç¢ºèª

```javascript
// æœªä½¿ç”¨ã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆã®å‰Šé™¤ç¢ºèª
// package.json ã« sideEffects: false è¿½åŠ 
```

#### DoD

- [ ] ãƒãƒ£ãƒ³ã‚¯åˆ†å‰²å®Ÿè£…
- [ ] è­¦å‘Šè§£æ¶ˆ or è¨±å®¹ç¯„å›²å†…
- [ ] åˆæœŸãƒ­ãƒ¼ãƒ‰æ™‚é–“è¨ˆæ¸¬
- [ ] ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹æ”¹å–„ç¢ºèª

---

## æ©Ÿèƒ½æ‹¡å¼µ

### TASK_037: è¿½åŠ ã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆå½¢å¼

**Status**: OPEN  
**Tier**: 2  
**Branch**: feature/export-formats  
**Owner**: Worker  
**Created**: 2026-02-07

#### ç›®çš„

å¤šæ§˜ãªãƒ„ãƒ¼ãƒ«ãƒ»ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼ã¨ã®äº’æ›æ€§ç¢ºä¿ã€‚

#### è¿½åŠ ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆ

##### 1. Yarn Spinner

```yarn
title: Start
---
Hello, traveler!
-> Go to the shop
    <<jump Shop>>
-> Enter the dungeon
    <<jump Dungeon>>
===
```

##### 2. Excel (XLSX)

```
ä¾å­˜ãƒ©ã‚¤ãƒ–ãƒ©ãƒª: xlsx (SheetJS)

å‡ºåŠ›ã‚·ãƒ¼ãƒˆ:
- Nodes: node_id, text, choices
- Metadata: title, author, version
```

##### 3. PDF ãƒ•ãƒ­ãƒ¼ãƒãƒ£ãƒ¼ãƒˆ

```
æ–¹æ³•:
1. Mermaid CLI ã§ã‚°ãƒ©ãƒ•ç”Ÿæˆ
2. mermaid-cli ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ä½¿ç”¨
3. SVG â†’ PDF å¤‰æ›

ã¾ãŸã¯:
- puppeteer ã§ Mermaid ãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚° â†’ PDF å‡ºåŠ›
```

#### DoD

- [ ] Yarn Spinner ãƒ•ã‚©ãƒ¼ãƒãƒƒã‚¿ãƒ¼
- [ ] XLSX ãƒ•ã‚©ãƒ¼ãƒãƒƒã‚¿ãƒ¼
- [ ] PDF ãƒ•ãƒ­ãƒ¼ãƒãƒ£ãƒ¼ãƒˆ (ã‚ªãƒ—ã‚·ãƒ§ãƒ³)
- [ ] UI ã«è¿½åŠ 
- [ ] å‹•ä½œç¢ºèª

---

## ğŸ“Š ã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒ«

```
Month 1 (2/21-3/21):
â”œâ”€â”€ Week 1-2: TASK_033 Ollama çµ±åˆ (5-7æ—¥)
â”œâ”€â”€ Week 2-3: TASK_034 AI ãƒãƒƒãƒ (3-5æ—¥)
â””â”€â”€ Week 3-4: TASK_035 main.js ãƒªãƒ•ã‚¡ã‚¯ã‚¿ãƒªãƒ³ã‚° (3-5æ—¥)

Month 2 (3/21-4/7):
â”œâ”€â”€ Week 1: TASK_036 ãƒãƒ£ãƒ³ã‚¯æœ€é©åŒ– (2-3æ—¥)
â”œâ”€â”€ Week 2-3: TASK_037 ã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆæ‹¡å¼µ (5-7æ—¥)
â””â”€â”€ Week 3: ãƒãƒƒãƒ•ã‚¡ / ãƒã‚°ä¿®æ­£
```

---

*æœ€çµ‚æ›´æ–°: 2026-02-07*
