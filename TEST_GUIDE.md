# 🎯 main.js モジュール分割完了 - テスト項目リスト

## 📋 **テスト概要**
main.js のモジュール分割第2弾が完了しました。以下の機能を個別にテストしてください。

### **テスト環境**
- URL: `http://localhost:5174/`
- ブラウザ: Chrome/Firefox (最新版推奨)
- テストモデル: サンプルモデルまたは任意のJSON/CSV

---

## 🧪 **テスト項目表**

| No | テストカテゴリ | テスト項目 | 手順 | 期待結果 | ステータス | 備考 |
|----|---------------|-----------|------|----------|-----------|------|
| **T-01** | **初期化・起動** | アプリケーション起動 | 1. `http://localhost:5174/` にアクセス<br>2. ページが正常に表示される | ✅ ページが読み込まれ、UI要素が表示される | - | 基本機能確認 |
| **T-02** | **初期化・起動** | ハンドラー初期化 | 1. ブラウザコンソールを開く<br>2. エラーがないことを確認 | ✅ コンソールに初期化エラーがない | - | 依存注入確認 |
| **T-03** | **ストーリー表示** | 改行レンダリング | 1. サンプル実行<br>2. ストーリーテキストを確認 | ✅ テキストが段落ごとに適切に改行されて表示 | - | renderStoryEnhanced 動作確認 |
| **T-04** | **ストーリー表示** | 選択肢適用 | 1. 選択肢をクリック<br>2. ストーリーが追記される | ✅ 新しいテキストが段落として追加 | - | appendStoryFromCurrentNode 動作確認 |

### **ノードパネル機能テスト**

| No | テストカテゴリ | テスト項目 | 手順 | 期待結果 | ステータス | 備考 |
|----|---------------|-----------|------|----------|-----------|------|
| **NP-01** | **ノード一覧表示** | ノード一覧レンダリング | 1. モデルを読み込む<br>2. ノード一覧が表示される | ✅ 全ノードがリスト表示される | - | renderNodeOverview 動作確認 |
| **NP-02** | **ノード一覧表示** | 検索機能 | 1. 検索ボックスにノードID入力<br>2. リストがフィルタリングされる | ✅ 一致するノードのみ表示 | - | 検索機能確認 |
| **NP-03** | **ノード操作** | ノードジャンプ | 1. ノード一覧から「Jump」クリック<br>2. ストーリーが該当ノードに移動 | ✅ セッション状態が更新、ストーリー表示変更 | - | jumpToNode 動作確認 |
| **NP-04** | **ノード操作** | ハイライト表示 | 1. ノードジャンプ実行<br>2. 該当ノードがハイライトされる | ✅ 該当ノードが青背景でハイライト | - | highlightNode 動作確認 |
| **NP-05** | **ノード操作** | 現在ノード表示 | 1. 任意のノードに移動<br>2. 現在ノードが「current-node」クラス | ✅ 現在ノードが特別表示される | - | UI状態同期確認 |

### **タブ機能テスト**

| No | テストカテゴリ | テスト項目 | 手順 | 期待結果 | ステータス | 備考 |
|----|---------------|-----------|------|----------|-----------|------|
| **TAB-01** | **タブ切り替え** | タブボタンクリック | 1. 各タブ(Story/Debug/Graph/AI)をクリック<br>2. パネルが切り替わる | ✅ 該当パネルが表示、他パネル非表示 | - | switchTab 動作確認 |
| **TAB-02** | **タブ切り替え** | 初期タブ設定 | 1. ページリロード<br>2. Storyタブがアクティブ | ✅ Storyタブがデフォルトで選択 | - | initialize 動作確認 |
| **TAB-03** | **タブ連動** | Graphタブ連動 | 1. Graphタブに切り替え<br>2. グラフが描画される | ✅ renderGraph が呼び出される | - | タブ固有処理確認 |
| **TAB-04** | **タブ連動** | Debugタブ連動 | 1. Debugタブに切り替え<br>2. デバッグ情報表示 | ✅ renderDebugInfo が呼び出される | - | タブ固有処理確認 |

### **GUIエディタ機能テスト**

| No | テストカテゴリ | テスト項目 | テスト項目 | 手順 | 期待結果 | ステータス | 備考 |
|----|---------------|-----------|-----------|------|----------|-----------|------|
| **GE-01** | **エディタ起動** | GUI編集開始 | 1. 「GUI編集」ボタンクリック<br>2. エディターモードに切り替え | ✅ エディタUIが表示、コントロール無効化 | - | startEditing 動作確認 |
| **GE-02** | **エディタ操作** | ノード編集 | 1. ノードテキストを編集<br>2. リアルタイムでモデル更新 | ✅ 入力変更がモデルに反映 | - | ライブ編集確認 |
| **GE-03** | **エディタ操作** | 選択肢追加 | 1. 「選択肢を追加」クリック<br>2. 新規選択肢が作成 | ✅ 選択肢リストに追加される | - | 動的UI操作確認 |
| **GE-04** | **保存・キャンセル** | 変更保存 | 1. 変更を加えて保存<br>2. 通常モードに戻る | ✅ モデルが更新、ストーリー反映 | - | saveEditing 動作確認 |
| **GE-05** | **保存・キャンセル** | 変更キャンセル | 1. 変更を加えてキャンセル<br>2. 変更が破棄される | ✅ 元のモデル状態に戻る | - | cancelEditing 動作確認 |

### **統合機能テスト**

| No | テストカテゴリ | テスト項目 | 手順 | 期待結果 | ステータス | 備考 |
|----|---------------|-----------|------|----------|-----------|------|
| **INT-01** | **クロスモジュール** | ノード編集→ストーリー反映 | 1. GUIでノード編集<br>2. 保存してストーリー表示確認 | ✅ 編集内容がストーリーに反映 | - | モジュール間連携確認 |
| **INT-02** | **クロスモジュール** | タブ切替→ノード一覧更新 | 1. タブ切り替え<br>2. ノード一覧が適切に更新 | ✅ 全タブでノード一覧表示正常 | - | 状態同期確認 |
| **INT-03** | **パフォーマンス** | 大規模モデル対応 | 1. 50+ノードのモデル読み込み<br>2. 操作がスムーズ | ✅ 仮想スクロールが機能 | - | スケーラビリティ確認 |

---

## 🔧 **テスト実行ガイド**

### **テスト前準備**
```bash
# 開発サーバー起動
cd apps/web-tester
npm run dev

# ブラウザでアクセス
open http://localhost:5174/
```

### **テストデータ**
- **サンプルモデル**: 「サンプルを実行」ボタン使用
- **テスト用JSON**: `models/examples/linear.json`
- **大規模テスト**: 50ノード以上のモデルを準備

### **テスト時の確認ポイント**
- ✅ ブラウザコンソールにエラーがない
- ✅ UIが応答する（フリーズしない）
- ✅ 状態変更が全UIに反映される
- ✅ メモリリークがない（長時間操作）

### **障害発生時の対応**
1. **コンソールエラー**: 該当モジュールの関数を確認
2. **UI非表示**: DOM要素の存在を確認
3. **機能不動作**: 依存注入パラメータを確認
4. **パフォーマンス劣化**: 仮想スクロールの設定確認

---

## 📊 **テスト結果サマリー**

| カテゴリ | テスト項目数 | 合格 | 不合格 | 保留 | 合格率 |
|----------|-------------|------|--------|------|--------|
| 初期化・起動 | 2 | - | - | - | - |
| ストーリー表示 | 2 | - | - | - | - |
| ノードパネル | 5 | - | - | - | - |
| タブ機能 | 4 | - | - | - | - |
| GUIエディタ | 5 | - | - | - | - |
| 統合機能 | 3 | - | - | - | - |
| **合計** | **21** | - | - | - | - |

### **合格条件**
- ✅ 全テスト項目で期待結果が得られる
- ✅ ブラウザコンソールに致命的エラーがない
- ✅ UI操作がスムーズ（1秒以内応答）
- ✅ メモリ使用量が安定

---

**テスト実施者**: ________
**テスト日時**: ________
**テスト環境**: ________
**最終結果**: ________
