id,command,description
event_start,"SAY(ナレーター,目が覚めると、見知らぬ部屋にいた。);SAY(ナレーター,窓のない小さな部屋で、ドアには複数の鍵穴がある。);GOTO(event_room_look)","ゲーム開始"
event_room_look,"SAY(ナレーター,部屋を見回すと、いくつかの興味深いものが目に入る。);SHOW_CHOICES room_objects","部屋の探索"
event_examine_desk,"SAY(ナレーター,古い木製の机。引き出しが一つある。);IF(player.has_desk_key=true,event_open_drawer,event_drawer_locked)","机の調査"
event_drawer_locked,"SAY(ナレーター,引き出しには鍵がかかっている。小さな鍵穴だ。);GOTO(event_room_look)","引き出しが施錠中"
event_open_drawer,"SAY(ナレーター,引き出しを開けると、古いメモが入っている。);SAY(メモ,「青い本の17ページを見よ」と書かれている。);SET(player.has_note,true);GOTO(event_room_look)","引き出しを開ける"
event_examine_bookshelf,"SAY(ナレーター,本棚には様々な本が並んでいる。一冊だけ青い背表紙の本がある。);IF(player.has_note=true,event_read_blue_book,event_just_books)","本棚の調査"
event_just_books,"SAY(ナレーター,古い本がたくさんある。特に変わったものは見つからない。);GOTO(event_room_look)","普通の本棚"
event_read_blue_book,"SAY(ナレーター,青い本の17ページを開く。);SAY(本,「数字の謎：最初の部屋 = 2, 二番目の部屋 = 4, 三番目の部屋 = ?」);SET(player.knows_code,true);SAY(ナレーター,これは暗号のようだ。);GOTO(event_room_look)","青い本を読む"
event_examine_door,"SAY(ナレーター,重い木のドア。三つの鍵穴がある：赤、青、黄色。);SHOW_CHOICES room_objects","ドアの調査"
event_red_keyhole,"IF(player.has_red_key=true,event_use_red_key,event_need_red_key)","赤い鍵穴"
event_need_red_key,"SAY(ナレーター,赤い鍵穴。赤い鍵が必要だ。);GOTO(event_examine_door)","赤い鍵が必要"
event_use_red_key,"SAY(ナレーター,赤い鍵を使った。カチッという音がした。);SET(player.door_red_unlocked,true);GOTO(event_check_door_complete)","赤い鍵を使用"
event_blue_keyhole,"IF(player.has_blue_key=true,event_use_blue_key,event_need_blue_key)","青い鍵穴"
event_need_blue_key,"SAY(ナレーター,青い鍵穴。青い鍵が必要だ。);GOTO(event_examine_door)","青い鍵が必要"
event_use_blue_key,"SAY(ナレーター,青い鍵を使った。カチッという音がした。);SET(player.door_blue_unlocked,true);GOTO(event_check_door_complete)","青い鍵を使用"
event_yellow_keyhole,"IF(player.has_yellow_key=true,event_use_yellow_key,event_need_yellow_key)","黄色い鍵穴"
event_need_yellow_key,"SAY(ナレーター,黄色い鍵穴。黄色い鍵が必要だ。);GOTO(event_examine_door)","黄色い鍵が必要"
event_use_yellow_key,"SAY(ナレーター,黄色い鍵を使った。カチッという音がした。);SET(player.door_yellow_unlocked,true);GOTO(event_check_door_complete)","黄色い鍵を使用"
event_check_door_complete,"IF(player.door_red_unlocked=true,event_check_door_2,event_examine_door)","ドア開錠チェック1"
event_check_door_2,"IF(player.door_blue_unlocked=true,event_check_door_3,event_examine_door)","ドア開錠チェック2"
event_check_door_3,"IF(player.door_yellow_unlocked=true,event_door_opens,event_examine_door)","ドア開錠チェック3"
event_door_opens,"SAY(ナレーター,すべての鍵穴が解除された！ドアがゆっくりと開く。);SAY(ナレーター,外には明るい廊下が続いている。);SHOW_CHOICES room_objects","ドアが開く"
event_examine_window,"SAY(ナレーター,壁に小さな窪みがある。よく見ると数字のパズルボックスだ。);IF(player.knows_code=true,event_puzzle_available,event_puzzle_mysterious)","窓際の調査"
event_puzzle_mysterious,"SAY(ナレーター,数字を入力するパズルボックス。三桁の番号が必要のようだ。);GOTO(event_room_look)","謎のパズル"
event_puzzle_available,"SAY(ナレーター,青い本のヒント：2, 4, ?);SAY(ナレーター,規則性を考えてみよう。);SHOW_CHOICES puzzle_choices","パズル挑戦"
event_puzzle_correct,"SAY(ナレーター,正解だ！パズルボックスが開いた。);SAY(ナレーター,中には三つの色の鍵が入っている。);SET(player.has_red_key,true);SET(player.has_blue_key,true);SET(player.has_yellow_key,true);SET(player.has_desk_key,true);SAY(ナレーター,赤、青、黄色の鍵と小さな鍵を手に入れた。);GOTO(event_room_look)","パズル正解"
event_puzzle_wrong,"SAY(ナレーター,間違いだ。パズルボックスは開かない。);GOTO(event_puzzle_available)","パズル不正解"
event_escape_success,"SAY(ナレーター,あなたは無事に部屋から脱出した！);SAY(ナレーター,謎を解き、知恵を使って自由を勝ち取った。);SHOW_CHOICES escape_choices","脱出成功"
event_restart,"SET(player.has_desk_key,false);SET(player.has_note,false);SET(player.knows_code,false);SET(player.has_red_key,false);SET(player.has_blue_key,false);SET(player.has_yellow_key,false);SET(player.door_red_unlocked,false);SET(player.door_blue_unlocked,false);SET(player.door_yellow_unlocked,false);SAY(ナレーター,新しい冒険が始まる。);GOTO(event_start)","ゲームリスタート"
event_game_end,"SAY(ナレーター,CSV駆動型ナラティブシステムによる脱出ゲームをお楽しみいただき、ありがとうございました！)","ゲーム終了" 